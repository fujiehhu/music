webpackJsonp([1],{"3uj+":function(t,e){},"9X/j":function(t,e){},A82U:function(t,e,s){"use strict";var n=s("uL8o"),i=s("mtWM"),r=s.n(i),o={name:"HelloWorld",data:function(){return{comment:[],url:"https://i.picsum.photos/id/",jpg:"/600/400.jpg"}},components:{"wbc-nav":n.default},methods:{getComments:function(){var t=this,e=this.$store.state.commentid;r.a.get("https://autumnfish.cn/comment/music?id="+e+"&limit=100").then(function(e){t.comment=e.data.comments})}},created:function(){this.getComments()},mounted:function(){document.getElementById("audio").currentTime=this.$store.state.currentTime_global}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"com"},[s("wbc-nav"),t._v(" "),s("div",{staticClass:"main",style:{display:this.$store.state.isshowcomment}},[s("div",{staticClass:"comment"},t._l(t.comment,function(e,n){return s("section",{key:n,staticClass:"list-item"},[s("div",{staticClass:"item-image"},[s("img",{attrs:{src:t.url+(n+605)+t.jpg}})]),t._v(" "),s("div",{staticClass:"item-text"},[s("div",{staticClass:"text-title"},[t._v(t._s(e.user.nickname))]),t._v(" "),s("div",{staticClass:"text-desc"},[t._v(t._s(e.content))])])])}),0)])],1)},staticRenderFns:[]};var c=s("VU/8")(o,a,!1,function(t){s("Un88")},"data-v-22b8c7e8",null);e.a=c.exports},"HU4+":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App"},i,!1,function(t){s("HU4+")},null,null).exports,o=s("/ocq");s("A82U"),s("lO7g"),s("uL8o"),s("XhiP");n.default.use(o.a);var a=new o.a({routes:[{path:"/",component:function(t){return new Promise(function(t){t()}).then(function(){var e=[s("XhiP")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/home",component:function(t){return new Promise(function(t){t()}).then(function(){var e=[s("lO7g")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/nav",component:function(t){return new Promise(function(t){t()}).then(function(){var e=[s("uL8o")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/play",component:function(t){return new Promise(function(t){t()}).then(function(){var e=[s("XhiP")];t.apply(null,e)}.bind(this)).catch(s.oe)}}]}),c=s("zL8q"),l=s.n(c),u=(s("tvR6"),s("NYxO"));n.default.use(u.a);var m=new u.a.Store({state:{coverurl:"",lyrc:"歌词",bannerurl:[],isshowbtn:"none",commentid:"449818741",curmusiclist:[],percentage:"",currentTime:"0:00",duration:"0:00",rotate:"rotate 15s linear infinite",playicon:"el-icon-video-pause",currentTime_global:0,currentsong:"",musicurl:"",currentsongid:0,next:!1,previous:!1,isshowsearch:"none",issearch:!1,isshowcomment:"none",musiclist:[449818741,412911436,36024806,233974,30612793,33190007,458017274]}});n.default.config.productionTip=!1,n.default.use(l.a),new n.default({el:"#app",router:a,store:m,components:{App:r},template:"<App/>"})},TVmP:function(t,e,s){"use strict";s("mtWM");var n={name:"HelloWorld",data:function(){return{}},methods:{bf:function(){var t=document.getElementById("audio");null!==t&&(t.paused?(this.$store.state.playicon="el-icon-video-pause",this.$store.state.rotate="rotate 15s linear infinite",t.play()):(this.$store.state.playicon="el-icon-video-play",this.$store.state.rotate="",t.pause()))},next:function(){this.$store.state.next=!0},previous:function(){this.$store.state.previous=!0}},created:function(){}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer",style:{display:this.$store.state.isshowbtn}},[s("div",{staticClass:"button-group"},[s("div",{staticClass:"button"},[s("el-button",{attrs:{icon:"el-icon-arrow-left",circle:""},on:{click:t.previous}}),t._v(" "),s("el-button",{attrs:{icon:this.$store.state.playicon,circle:""},on:{click:t.bf}}),t._v(" "),s("el-button",{attrs:{icon:"el-icon-arrow-right",circle:""},on:{click:t.next}}),t._v(" "),s("div",{staticClass:"vLine"})],1)]),t._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"cover",style:{backgroundImage:"url("+this.$store.state.coverurl+")"}}),t._v(" "),s("div",{staticClass:"range"},[s("div",{staticClass:"artist"},[s("div",{staticClass:"lyric"},[s("span",[t._v(t._s(this.$store.state.lyrc))])]),t._v(" "),s("div",{staticClass:"time"},[s("span",[t._v(t._s(this.$store.state.currentTime)+"/")]),t._v(" "),s("span",[t._v(t._s(this.$store.state.duration))])])]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"html",style:{width:this.$store.state.percentage+"%"}},[t._v("\n           \n        ")])])])])])},staticRenderFns:[]};var r=s("VU/8")(n,i,!1,function(t){s("gojL")},"data-v-1b8ea880",null);e.a=r.exports},Un88:function(t,e){},XhiP:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("uL8o"),i=s("TVmP"),r=s("mtWM"),o=s.n(r),a={name:"HelloWorld",data:function(){return{query:"",musiclist:[],dropdown_content:"none"}},methods:{handleCommand:function(t){this.$store.state.issearch=!0,this.$store.state.currentsongid=t.id,this.$store.state.musiclist.push(t.id)},searchMusic:function(t){this.dropdown_content="block";var e=this;o.a.get("https://autumnfish.cn/search?keywords="+t+"&limit=30").then(function(t){e.musiclist=t.data.result.songs})}},created:function(){},mounted:function(){document.getElementById("audio")}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search",style:{display:this.$store.state.isshowsearch}},[s("div",[s("el-input",{attrs:{placeholder:"知足","prefix-icon":"el-icon-search",autocomplete:"on"},on:{change:t.searchMusic},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),s("div",{staticClass:"dropdown-content",style:{display:t.dropdown_content}},t._l(t.musiclist,function(e,n){return s("p",{key:n,on:{click:function(s){return t.handleCommand(e)}}},[s("span",[t._v(t._s(n+1)+":")]),t._v(" "),s("span",[t._v(t._s(e.name))]),t._v(" "),s("span",{staticStyle:{float:"right"}},[t._v(t._s(e.artists[0].name))])])}),0)])},staticRenderFns:[]};var l=s("VU/8")(a,c,!1,function(t){s("9X/j")},"data-v-e19bc458",null).exports,u=s("A82U"),m={name:"HelloWorld",data:function(){return{musicurl:"",lyric:"歌词",lineNo:0,oLRC:{ti:"",ar:"",al:"",by:"",offset:0,ms:[]},coverurl:""}},components:{"wbc-nav":n.default,"wbc-footer":i.a,"wbc-search":l,"wbc-comment":u.a},methods:{createLrcObj:function(t){if(0!=t.length){var e=t.split("\n");for(var s in e){e[s]=e[s].replace(/(^\s*)|(\s*$)/g,"");var n=e[s].substring(e[s].indexOf("[")+1,e[s].indexOf("]")).split(":");if(isNaN(parseInt(n[0])))for(var s in this.oLRC)"ms"!=s&&s==n[0].toLowerCase()&&(this.oLRC[s]=n[1]);else{var i=e[s].match(/\[(\d+:.+?)\]/g),r=0;for(var o in i)r+=i[o].length;var a=e[s].substring(r);for(var o in i){n=i[o].substring(1,i[o].length-1).split(":");this.oLRC.ms.push({t:(60*parseFloat(n[0])+parseFloat(n[1])).toFixed(3),c:a})}}}this.oLRC.ms.sort(function(t,e){return t.t-e.t})}},goback:function(){document.getElementById("lyric");this.lineNo=0},getlyric:function(t){var e=this;o.a.get("https://autumnfish.cn/lyric?id="+t,{params:{withCredentials:!0}}).then(function(t){e.oLRC.ms.length=0,e.lyric=t.data.lrc.lyric,e.createLrcObj(e.lyric)})},getCover:function(t){var e=this;o.a.get("https://autumnfish.cn/song/detail?ids="+t,{params:{withCredentials:!0}}).then(function(t){e.coverurl=t.data.songs[0].al.picUrl,e.$store.state.coverurl=t.data.songs[0].al.picUrl,e.$store.state.currentsone=t.data.songs[0].al.name})},getSong:function(t){var e=this;o.a.get("https://autumnfish.cn/song/url?id="+t,{params:{withCredentials:!0}}).then(function(t){e.musicurl=t.data.data[0].url,e.$store.state.musicurl=t.data.data[0].url})}},created:function(){},mounted:function(){var t=document.getElementById("audio");t.currentTime=0;var e=this.$store.state.musiclist[parseInt(100*Math.random())%this.$store.state.musiclist.length];this.getCover(e),this.getSong(e),this.getlyric(e);var s=this;t.ontimeupdate=function(){var e;1==s.$store.state.next&&(s.$store.state.next=!1,(e=s.$store.state.musiclist.indexOf(s.$store.state.currentsongid))==s.$store.state.musiclist.length-1?(s.$store.state.currentsongid=s.$store.state.musiclist[0],s.getSong(s.$store.state.musiclist[0]),s.getlyric(s.$store.state.musiclist[0]),s.getCover(s.$store.state.musiclist[0])):(s.$store.state.currentsongid=s.$store.state.musiclist[e+1],s.getSong(s.$store.state.musiclist[e+1]),s.getlyric(s.$store.state.musiclist[e+1]),s.getCover(s.$store.state.musiclist[e+1])));1==s.$store.state.previous&&(s.$store.state.previous=!1,0==(e=s.$store.state.musiclist.indexOf(s.$store.state.currentsongid))?(s.$store.state.currentsongid=s.$store.state.musiclist[s.$store.state.musiclist.length-1],s.getSong(s.$store.state.musiclist[s.$store.state.musiclist.length-1]),s.getlyric(s.$store.state.musiclist[s.$store.state.musiclist.length-1]),s.getCover(s.$store.state.musiclist[s.$store.state.musiclist.length-1])):(s.$store.state.currentsongid=s.$store.state.musiclist[e-1],s.getSong(s.$store.state.musiclist[e-1]),s.getlyric(s.$store.state.musiclist[e-1]),s.getCover(s.$store.state.musiclist[e-1])));1==s.$store.state.issearch&&(s.$store.state.issearch,s.getSong(s.$store.state.currentsongid),s.getlyric(s.$store.state.currentsongid),s.getCover(s.$store.state.currentsongid)),s.$store.state.currentTime_global=t.currentTime,s.lineNo==s.oLRC.ms.length&&(s.lineNo=0);var n=t.currentTime;s.$store.state.percentage=Math.round(parseInt(t.currentTime)/parseInt(t.duration)*100);var i=Math.floor(parseInt(t.currentTime)/60),r=(parseInt(t.currentTime)-60*i)%60,o=Math.floor(parseInt(t.duration)/60),a=(parseInt(t.duration)-60*o)%60;for(r<10&&(r="0"+r),a<10&&(a="0"+a),s.$store.state.currentTime=i+":"+r,s.$store.state.duration=o+":"+a;n-parseFloat(s.oLRC.ms[s.lineNo].t)>3;)s.lineNo=s.lineNo+2;for(parseFloat(s.oLRC.ms[s.lineNo].t)<=n&&(s.$store.state.lyrc=s.oLRC.ms[s.lineNo].c,s.lineNo++);s.lineNo>0&&parseFloat(s.oLRC.ms[s.lineNo-1].t)-n>=3;)s.$store.state.lyrc="",s.lineNo-=3},t.onended=function(){var t=s.$store.state.musiclist.indexOf(s.$store.state.currentsongid);t==s.$store.state.musiclist.length-1?(s.$store.state.currentsongid=s.$store.state.musiclist[0],s.getSong(s.$store.state.musiclist[0]),s.getlyric(s.$store.state.musiclist[0]),s.getCover(s.$store.state.musiclist[0])):(console.log("取下一首歌"),s.$store.state.currentsongid=s.$store.state.musiclist[t+1],s.getSong(s.$store.state.musiclist[t+1]),s.getlyric(s.$store.state.musiclist[t+1]),s.getCover(s.$store.state.musiclist[t+1])),s.$store.state.lyrc="",s.$store.state.percentage=0,s.$store.state.currentTime=0,s.$store.state.duration=0,s.lineNo=0}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("wbc-nav"),t._v(" "),s("wbc-search"),t._v(" "),s("wbc-comment"),t._v(" "),s("div",{staticClass:"music-bgimg",style:{backgroundImage:"url("+t.coverurl+")"}}),t._v(" "),s("div",{style:{animation:this.$store.state.rotate},attrs:{id:"music-cover"}},[s("img",{attrs:{src:t.coverurl}})]),t._v(" "),s("audio",{attrs:{id:"audio",src:t.musicurl,autoplay:"true"}}),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyric,expression:"lyric"}],staticStyle:{display:"none"},attrs:{id:"lrc_content",name:"textfield",cols:"70",rows:"10"},domProps:{value:t.lyric},on:{input:function(e){e.target.composing||(t.lyric=e.target.value)}}}),t._v(" "),s("div",{staticClass:"lyric"},[t._v(t._s(this.$store.state.lyrc))]),t._v(" "),s("wbc-footer")],1)},staticRenderFns:[]};var h=s("VU/8")(m,d,!1,function(t){s("3uj+")},"data-v-74a51dae",null);e.default=h.exports},gojL:function(t,e){},iHkp:function(t,e){},ig5h:function(t,e){},lO7g:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("uL8o"),i=s("TVmP"),r=s("mtWM"),o=s.n(r),a={name:"HelloWorld",data:function(){return{bannerurl:[],topsond:[],tableData:[]}},components:{"wbc-nav":n.default,"wbc-footer":i.a},methods:{getBanner:function(){var t=this;o.a.get("https://autumnfish.cn/banner",{params:{withCredentials:!0}}).then(function(e){t.bannerurl=e.data.banners})},getTopsong:function(){var t=this;o.a.get("https://autumnfish.cn/top/song?type=7").then(function(e){t.tableData=e.data.data})}},created:function(){this.getBanner(),this.getTopsong()},mounted:function(){}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("wbc-nav"),t._v(" "),s("div",{staticClass:"banner"},[s("el-carousel",{attrs:{interval:3e3,type:"card",height:"200px"}},t._l(t.bannerurl,function(t,e){return s("el-carousel-item",{key:e},[s("div",{staticClass:"image",style:{backgroundImage:"url("+t.imageUrl+")"}})])}),1)],1),t._v(" "),s("div",{staticClass:"topsong"},[s("div",{staticClass:"topsong-title"},[t._v("华语新歌速递")]),t._v(" "),s("div",{staticClass:"topsong-list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:"380","show-header":!1}},[s("el-table-column",{attrs:{prop:"name"}}),t._v(" "),s("el-table-column",{attrs:{prop:"album.name"}}),t._v(" "),s("el-table-column",{attrs:{prop:"artists[0].name"}}),t._v(" "),s("el-table-column",{attrs:{prop:"album.company"}}),t._v(" "),s("el-table-column",{attrs:{prop:"album.subType"}})],1)],1)]),t._v(" "),s("wbc-footer")],1)},staticRenderFns:[]};var l=s("VU/8")(a,c,!1,function(t){s("ig5h")},"data-v-6ac9b4c8",null);e.default=l.exports},tvR6:function(t,e){},uL8o:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("mtWM");var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav"},[s("el-popover",{attrs:{placement:"bottom-start",trigger:"hover"}},[s("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"vertical",router:!1},on:{select:t.handleSelect}},[s("el-menu-item",{attrs:{index:"/home"}},[t._v("首页")]),t._v(" "),s("el-menu-item",{attrs:{index:"/play"}},[t._v("播放页")]),t._v(" "),s("el-menu-item",{attrs:{index:"/isshowbtn"}},[t._v(t._s(t.showbtn)+"播放菜单")]),t._v(" "),s("el-menu-item",{attrs:{index:"/isshowsearch"}},[t._v(t._s(t.showsearch)+"搜索")]),t._v(" "),s("el-menu-item",{attrs:{index:"/isshowcomment"}},[t._v(t._s(t.showcomment)+"评论")]),t._v(" "),s("el-menu-item",{attrs:{index:"/home",disabled:""}},[t._v("正在播放:"+t._s(this.$store.state.currentsone))]),t._v(" "),s("el-menu-item",{attrs:{index:"/search",disabled:""}},[t._v(t._s(this.$store.state.lyrc))])],1),t._v(" "),s("el-button",{attrs:{slot:"reference",icon:"el-icon-menu"},slot:"reference"})],1)],1)},staticRenderFns:[]};var i=s("VU/8")({name:"HelloWorld",data:function(){return{showbtn:"打开",showsearch:"打开",showcomment:"打开"}},methods:{handleSelect:function(t,e){"/home"==e?this.$router.push("/home"):"/play"==e?this.$router.push("/play"):"/isshowbtn"==e?"block"==this.$store.state.isshowbtn?(this.showbtn="显示",this.$store.state.isshowbtn="none"):(this.showbtn="关闭",this.$store.state.isshowbtn="block"):"/isshowsearch"==e?"block"==this.$store.state.isshowsearch?(this.showsearch="打开",this.$store.state.isshowsearch="none"):(this.showsearch="关闭",this.$store.state.isshowsearch="block"):"/isshowcomment"==e&&("block"==this.$store.state.isshowcomment?(this.showcomment="打开",this.$store.state.isshowcomment="none"):(this.showcomment="关闭",this.$store.state.isshowcomment="block"))}}},n,!1,function(t){s("iHkp")},"data-v-5b4c8572",null);e.default=i.exports}},["NHnr"]);
//# sourceMappingURL=app.53f8fcb8aadd7ed8d9da.js.map